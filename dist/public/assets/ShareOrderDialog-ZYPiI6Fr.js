import{c as Y,u as es,e as ss,a as he,j as e,h as fe,X as Oe}from"./index-Bn_nBLti.js";import{r as M,a as P}from"./react-vendor-DoqEe0id.js";import{D as ge,b as De,c as ts,d as os,e as rs,G,m as g,n as ns,o as is,p as le,g as me,q as ce,S as pe,r as se,U as Ee,A as as,R as ls,s as ms,M as ue,P as de,f as cs}from"./radio-group-CqarH3lg.js";import{B as _}from"./button-CefpbQ8d.js";import{I as Ve,f as L,B as z}from"./badge-COQmasRY.js";import{L as re,a as us,C as ds}from"./checkbox-BMTmXFyU.js";import{L as ye,f as te,P as hs,A as W,H as ps,h as Ns,C as oe,e as Ne,j as Le,R as xs,T as bs,k as fs,l as gs,m as Ds,U as vs,i as ws,E as ks}from"./index-De57y7-w.js";import{P as Se,M as js}from"./phone-BKxmGXxb.js";import{T as Cs}from"./trending-up-B4Lg3egY.js";import{P as xe,C as Es}from"./package-VsadMZkF.js";import{S as X}from"./star-rZ6EHPiU.js";import{c as Vs,a as ys,j as k,b as Ie,u as Os,w as Ls,f as Ss,P as Me,n as Is}from"./ui-lib-De9q200A.js";import{S as Ms}from"./separator-DOVSrcv_.js";import{C as As}from"./check-BNpeBMQG.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Y("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Y("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Y("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Y("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function pt({open:n,onOpenChange:m,restaurantId:s,primaryColor:c="#EA580C"}){const{toast:a}=es(),{isAuthenticated:i,customer:t,loyalty:u,requestOtp:w,verifyOtp:S,logout:x}=ss(),[D,A]=M.useState(i?"profile":"phone"),[V,T]=M.useState(""),[I,j]=M.useState(""),[p,v]=M.useState(!1),[q,o]=M.useState(null),l=async()=>{if(!V||V.length<9){a({title:"Telefone inválido",description:"Por favor, insira um número de telefone válido",variant:"destructive"});return}v(!0);try{const d=await w(V,s);d.success?(A("otp"),d.otpCode&&o(d.otpCode),a({title:"Código enviado",description:"Verifique seu telefone para o código de verificação"})):a({title:"Erro",description:d.message||"Não foi possível enviar o código",variant:"destructive"})}catch{a({title:"Erro",description:"Não foi possível enviar o código de verificação",variant:"destructive"})}finally{v(!1)}},N=async()=>{if(!I||I.length!==6){a({title:"Código inválido",description:"O código deve ter 6 dígitos",variant:"destructive"});return}v(!0);try{await S(V,s,I)?(A("profile"),a({title:"Login realizado",description:"Bem-vindo de volta!"})):a({title:"Código inválido",description:"O código está incorreto ou expirou",variant:"destructive"})}catch{a({title:"Erro",description:"Não foi possível verificar o código",variant:"destructive"})}finally{v(!1)}},f=async()=>{await x(),A("phone"),T(""),j(""),o(null),a({title:"Logout realizado",description:"Até a próxima!"})},C=d=>{switch(d){case"platina":return e.jsxDEV(oe,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:148,columnNumber:16},this);case"ouro":return e.jsxDEV(oe,{className:"w-5 h-5 text-yellow-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:150,columnNumber:16},this);case"prata":return e.jsxDEV(X,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:152,columnNumber:16},this);default:return e.jsxDEV(X,{className:"w-5 h-5 text-amber-700"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:154,columnNumber:16},this)}},b=d=>{switch(d){case"platina":return"Platina";case"ouro":return"Ouro";case"prata":return"Prata";default:return"Bronze"}},$=d=>{switch(d){case"platina":return{bg:"from-purple-600 to-purple-800",text:"text-purple-100",badge:"bg-purple-400/20"};case"ouro":return{bg:"from-yellow-500 to-amber-600",text:"text-yellow-100",badge:"bg-yellow-400/20"};case"prata":return{bg:"from-gray-400 to-gray-600",text:"text-gray-100",badge:"bg-gray-400/20"};default:return{bg:"from-amber-600 to-amber-800",text:"text-amber-100",badge:"bg-amber-400/20"}}},r=d=>{switch(d){case"bronze":return{name:"Prata",minVisits:10,icon:e.jsxDEV(X,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:187,columnNumber:54},this)};case"prata":return{name:"Ouro",minVisits:25,icon:e.jsxDEV(oe,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:189,columnNumber:53},this)};case"ouro":return{name:"Platina",minVisits:50,icon:e.jsxDEV(oe,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:191,columnNumber:56},this)};case"platina":return null;default:return{name:"Prata",minVisits:10,icon:e.jsxDEV(X,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:195,columnNumber:54},this)}}},E=d=>{const Q={bronze:[{icon:e.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:202,columnNumber:17},this),text:"Acumule pontos em cada compra"},{icon:e.jsxDEV(se,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:203,columnNumber:17},this),text:"Troque pontos por descontos"}],prata:[{icon:e.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:206,columnNumber:17},this),text:"Acumule pontos em cada compra"},{icon:e.jsxDEV(se,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:207,columnNumber:17},this),text:"5% extra em pontos"},{icon:e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:208,columnNumber:17},this),text:"Ofertas exclusivas"}],ouro:[{icon:e.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:211,columnNumber:17},this),text:"Acumule pontos em cada compra"},{icon:e.jsxDEV(se,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:212,columnNumber:17},this),text:"10% extra em pontos"},{icon:e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:213,columnNumber:17},this),text:"Ofertas exclusivas VIP"},{icon:e.jsxDEV(Ne,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:214,columnNumber:17},this),text:"Prioridade em promoções"}],platina:[{icon:e.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:217,columnNumber:17},this),text:"Acumule pontos em cada compra"},{icon:e.jsxDEV(se,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:218,columnNumber:17},this),text:"15% extra em pontos"},{icon:e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:219,columnNumber:17},this),text:"Acesso antecipado a novidades"},{icon:e.jsxDEV(Ne,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:220,columnNumber:17},this),text:"Atendimento prioritário"},{icon:e.jsxDEV(te,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:221,columnNumber:17},this),text:"Experiências exclusivas"}]};return Q[d||"bronze"]||Q.bronze},O=()=>e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"text-center mb-6",children:[e.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-amber-500/20 to-orange-500/20 flex items-center justify-center mx-auto mb-4 shadow-sm border border-amber-500/30",children:e.jsxDEV(G,{className:"w-8 h-8 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:231,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:230,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm text-neutral-300",children:"Acesse seus pontos de fidelidade e benefícios exclusivos"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:233,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:229,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(re,{htmlFor:"phone",className:"text-neutral-200 font-medium",children:"Número de Telefone"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:239,columnNumber:9},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:241,columnNumber:11},this),e.jsxDEV(Ve,{id:"phone",type:"tel",placeholder:"9XX XXX XXX",value:V,onChange:d=>T(d.target.value.replace(/\D/g,"").slice(0,9)),className:"pl-10 h-11 bg-neutral-800 border-neutral-700 text-white placeholder:text-neutral-500 focus:border-amber-500 focus:ring-amber-500","data-testid":"input-customer-phone"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:242,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:240,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:238,columnNumber:7},this),e.jsxDEV(_,{onClick:l,disabled:p||V.length<9,className:"w-full h-11 bg-amber-500 hover:bg-amber-600 text-white font-semibold shadow-md shadow-amber-500/30","data-testid":"button-request-otp",children:[p?e.jsxDEV(ye,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:261,columnNumber:11},this):null,"Receber Código"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:254,columnNumber:7},this),e.jsxDEV("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/20 rounded-lg p-3",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV(G,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:268,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-neutral-300",children:"Ganhe pontos em cada pedido e troque por descontos especiais"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:269,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:267,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:266,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:228,columnNumber:5},this),H=()=>e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"text-center mb-6",children:[e.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-amber-500/20 to-orange-500/20 flex items-center justify-center mx-auto mb-4 shadow-sm border border-amber-500/30",children:e.jsxDEV(Ts,{className:"w-8 h-8 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:281,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:280,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm text-neutral-300",children:["Digite o código de 6 dígitos enviado para ",e.jsxDEV("span",{className:"font-semibold text-white",children:V},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:284,columnNumber:53},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:283,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:279,columnNumber:7},this),q&&e.jsxDEV("div",{className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30 rounded-lg p-3 text-center",children:[e.jsxDEV("p",{className:"text-xs text-amber-500 mb-1 font-medium",children:"Código de teste (dev)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:290,columnNumber:11},this),e.jsxDEV("p",{className:"text-lg font-mono font-bold text-amber-400",children:q},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:291,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:289,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(re,{htmlFor:"otp",className:"text-neutral-200 font-medium",children:"Código de Verificação"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:296,columnNumber:9},this),e.jsxDEV(Ve,{id:"otp",type:"text",inputMode:"numeric",placeholder:"000000",value:I,onChange:d=>j(d.target.value.replace(/\D/g,"").slice(0,6)),className:"text-center text-2xl tracking-widest font-mono h-14 bg-neutral-800 border-neutral-700 text-white placeholder:text-neutral-600 focus:border-amber-500 focus:ring-amber-500",maxLength:6,"data-testid":"input-otp-code"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:297,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:295,columnNumber:7},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(_,{variant:"outline",onClick:()=>{A("phone"),j(""),o(null)},className:"flex-1 h-11 border-neutral-700 bg-neutral-800 hover:bg-neutral-700 text-white","data-testid":"button-back-to-phone",children:"Voltar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:311,columnNumber:9},this),e.jsxDEV(_,{onClick:N,disabled:p||I.length!==6,className:"flex-1 h-11 bg-amber-500 hover:bg-amber-600 text-white font-semibold shadow-md shadow-amber-500/30","data-testid":"button-verify-otp",children:[p?e.jsxDEV(ye,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:330,columnNumber:13},this):null,"Verificar"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:323,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:310,columnNumber:7},this),e.jsxDEV(_,{variant:"ghost",onClick:l,disabled:p,className:"w-full text-sm hover:bg-amber-500/10 text-amber-500","data-testid":"button-resend-otp",children:"Reenviar código"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:336,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:278,columnNumber:5},this),{data:R}=he({queryKey:["customer-orders",t==null?void 0:t.id,s],queryFn:async()=>{if(!(t!=null&&t.id))return[];const d=await fetch(`/api/public/customers/${t.id}/orders?restaurantId=${s}`);return d.ok?d.json():[]},enabled:i&&!!(t!=null&&t.id)}),{data:F}=he({queryKey:["customer-coupons",t==null?void 0:t.id,s],queryFn:async()=>{if(!(t!=null&&t.id))return[];const d=await fetch(`/api/public/customers/${t.id}/coupons?restaurantId=${s}`);return d.ok?d.json():[]},enabled:i&&!!(t!=null&&t.id)}),y=()=>{if(!t)return null;const d=u?t.loyaltyPoints*parseFloat(u.currencyPerPoint||"0.1"):0,Q=$(t.tier),U=r(t.tier),Ze=E(t.tier),J=(u==null?void 0:u.minPointsToRedeem)??100,je=J>0,Ce=je?Math.min(t.loyaltyPoints/J*100,100):100,We=!je||t.loyaltyPoints>=J,Ye=()=>{switch(t.tier){case"prata":return 10;case"ouro":return 25;case"platina":return 50;default:return 0}},Je=(()=>{if(!U)return 100;const h=Ye(),Z=U.minVisits-h;if(Z<=0)return 100;const ee=(t.visitCount-h)/Z*100;return Math.max(0,Math.min(ee,100))})();return e.jsxDEV(g.div,{className:"space-y-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxDEV(g.div,{className:`relative overflow-hidden rounded-2xl bg-gradient-to-br ${Q.bg} p-5 text-white shadow-lg`,initial:{scale:.95},animate:{scale:1},transition:{duration:.3,delay:.1},children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:423,columnNumber:11},this),e.jsxDEV("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full -ml-12 -mb-12"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:424,columnNumber:11},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:`w-12 h-12 rounded-full ${Q.badge} flex items-center justify-center`,children:C(t.tier)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:429,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm opacity-80",children:"Membro"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:433,columnNumber:19},this),e.jsxDEV("p",{className:"font-bold text-lg",children:b(t.tier)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:434,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:432,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:428,columnNumber:15},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-xs opacity-70",children:t.phone},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:438,columnNumber:17},this),e.jsxDEV("p",{className:"font-medium",children:t.name||"Cliente"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:439,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:437,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:427,columnNumber:13},this),(u==null?void 0:u.isActive)&&e.jsxDEV("div",{className:"bg-white/10 backdrop-blur rounded-xl p-4 mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Seus Pontos"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:446,columnNumber:19},this),e.jsxDEV(te,{className:"w-4 h-4 opacity-70"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:447,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:445,columnNumber:17},this),e.jsxDEV(g.p,{className:"text-4xl font-bold",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},children:t.loyaltyPoints.toLocaleString("pt-AO")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:449,columnNumber:17},this),d>0&&e.jsxDEV("p",{className:"text-sm opacity-80 mt-1",children:["= ",L(d.toString())," em descontos"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:458,columnNumber:19},this),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsxDEV("span",{children:"Progresso para resgate"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:465,columnNumber:21},this),e.jsxDEV("span",{children:[Math.round(Ce),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:466,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:464,columnNumber:19},this),e.jsxDEV("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsxDEV(g.div,{className:"h-full bg-white rounded-full",initial:{width:0},animate:{width:`${Ce}%`},transition:{duration:.8,delay:.3}},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:469,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:468,columnNumber:19},this),We?e.jsxDEV("p",{className:"text-xs mt-2 flex items-center gap-1",children:[e.jsxDEV(te,{className:"w-3 h-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:478,columnNumber:23},this),"Pronto para resgatar!"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:477,columnNumber:21},this):e.jsxDEV("p",{className:"text-xs opacity-70 mt-2",children:["Faltam ",J-t.loyaltyPoints," pontos"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:482,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:463,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:444,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold",children:t.visitCount},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:492,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs opacity-80",children:"Visitas"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:493,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:491,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:[e.jsxDEV("p",{className:"text-lg font-bold",children:L(t.totalSpent)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:496,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs opacity-80",children:"Total gasto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:497,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:495,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:490,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:426,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:417,columnNumber:9},this),U&&e.jsxDEV(g.div,{className:"bg-muted/50 rounded-xl p-4",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Cs,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:512,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm font-medium",children:"Próximo Nível"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:513,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:511,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1 text-sm font-medium",style:{color:c},children:[U.icon,U.name]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:515,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:510,columnNumber:13},this),e.jsxDEV(hs,{value:Je,className:"h-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:520,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:U.minVisits-t.visitCount>0?`Faltam ${U.minVisits-t.visitCount} visitas para ${U.name}`:"Parabéns! Você está quase lá!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:521,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:504,columnNumber:11},this),e.jsxDEV(ns,{defaultValue:"benefits",className:"w-full",children:[e.jsxDEV(is,{className:"grid w-full grid-cols-3 bg-neutral-800",children:[e.jsxDEV(le,{value:"benefits",className:"data-[state=active]:bg-amber-500 data-[state=active]:text-white",children:[e.jsxDEV(W,{className:"w-3.5 h-3.5 mr-1.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:533,columnNumber:15},this),"Benefícios"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:532,columnNumber:13},this),e.jsxDEV(le,{value:"orders",className:"data-[state=active]:bg-amber-500 data-[state=active]:text-white",children:[e.jsxDEV(xe,{className:"w-3.5 h-3.5 mr-1.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:537,columnNumber:15},this),"Pedidos"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:536,columnNumber:13},this),e.jsxDEV(le,{value:"coupons",className:"data-[state=active]:bg-amber-500 data-[state=active]:text-white",children:[e.jsxDEV(me,{className:"w-3.5 h-3.5 mr-1.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:541,columnNumber:15},this),"Cupons"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:540,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:531,columnNumber:11},this),e.jsxDEV(ce,{value:"benefits",className:"mt-4",children:e.jsxDEV(g.div,{className:"bg-neutral-800/50 rounded-xl p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxDEV(W,{className:"w-4 h-4 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:553,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm font-medium text-white",children:"Seus Benefícios"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:554,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:552,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:Ze.map((h,K)=>e.jsxDEV(g.div,{className:"flex items-center gap-3 text-sm text-neutral-300",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:K*.1},children:[e.jsxDEV("span",{className:"text-amber-500",children:h.icon},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:565,columnNumber:21},this),e.jsxDEV("span",{children:h.text},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:566,columnNumber:21},this)]},K,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:558,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:556,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:547,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:546,columnNumber:11},this),e.jsxDEV(ce,{value:"orders",className:"mt-4",children:e.jsxDEV(pe,{className:"h-[300px] pr-4",children:R&&R.length>0?e.jsxDEV("div",{className:"space-y-3",children:R.map((h,K)=>{var Z,ee;return e.jsxDEV(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:K*.1},className:"bg-neutral-800/50 rounded-lg p-3 hover:bg-neutral-800 transition-colors",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center",children:e.jsxDEV(xe,{className:"w-4 h-4 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:588,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:587,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-white",children:["Pedido #",h.orderNumber||h.id.slice(0,8)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:591,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-neutral-400",children:new Date(h.createdAt).toLocaleDateString("pt-AO",{day:"2-digit",month:"short",year:"numeric"})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:592,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:590,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:586,columnNumber:25},this),e.jsxDEV(z,{variant:h.status==="concluído"?"default":"secondary",className:"text-xs",children:h.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:601,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:585,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("p",{className:"text-xs text-neutral-400",children:[((Z=h.items)==null?void 0:Z.length)||0," ",((ee=h.items)==null?void 0:ee.length)===1?"item":"itens"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:606,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm font-bold text-amber-500",children:L(h.totalAmount)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:607,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:605,columnNumber:23},this),h.pointsEarned>0&&e.jsxDEV("div",{className:"mt-2 pt-2 border-t border-neutral-700 flex items-center gap-1 text-xs text-amber-400",children:[e.jsxDEV(te,{className:"w-3 h-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:611,columnNumber:27},this),"+",h.pointsEarned," pontos ganhos"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:610,columnNumber:25},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:578,columnNumber:21},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:576,columnNumber:17},this):e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[e.jsxDEV(ps,{className:"w-12 h-12 text-neutral-600 mb-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:620,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-neutral-400",children:"Nenhum pedido ainda"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:621,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-neutral-500 mt-1",children:"Seus pedidos aparecerão aqui"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:622,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:619,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:574,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:573,columnNumber:11},this),e.jsxDEV(ce,{value:"coupons",className:"mt-4",children:e.jsxDEV(pe,{className:"h-[300px] pr-4",children:F&&F.length>0?e.jsxDEV("div",{className:"space-y-3",children:F.map((h,K)=>e.jsxDEV(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:K*.1},className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/30 rounded-lg p-3",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center",children:e.jsxDEV(me,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:643,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:642,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-bold text-white",children:h.code},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:646,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-amber-400",children:h.discountType==="percentage"?`${h.discountValue}% de desconto`:`${L(h.discountValue)} de desconto`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:647,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:645,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:641,columnNumber:25},this),h.isActive?e.jsxDEV(z,{className:"bg-green-500 text-white text-xs",children:"Ativo"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:655,columnNumber:27},this):e.jsxDEV(z,{variant:"secondary",className:"text-xs",children:"Usado"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:657,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:640,columnNumber:23},this),h.description&&e.jsxDEV("p",{className:"text-xs text-neutral-300 mb-2",children:h.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:661,columnNumber:25},this),h.expiresAt&&e.jsxDEV("p",{className:"text-xs text-neutral-400",children:["Válido até ",new Date(h.expiresAt).toLocaleDateString("pt-AO")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:664,columnNumber:25},this),h.minOrderValue&&e.jsxDEV("p",{className:"text-xs text-neutral-400 mt-1",children:["Pedido mínimo: ",L(h.minOrderValue)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:669,columnNumber:25},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:633,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:631,columnNumber:17},this):e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[e.jsxDEV(me,{className:"w-12 h-12 text-neutral-600 mb-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:678,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-neutral-400",children:"Nenhum cupom disponível"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:679,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-neutral-500 mt-1",children:"Cupons especiais aparecerão aqui"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:680,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:677,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:629,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:628,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:530,columnNumber:9},this),e.jsxDEV(_,{variant:"outline",onClick:f,className:"w-full mt-4 bg-neutral-800 hover:bg-neutral-700 text-white border-neutral-700","data-testid":"button-customer-logout",children:[e.jsxDEV(Ns,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:693,columnNumber:11},this),"Sair da conta"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:687,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:411,columnNumber:7},this)};return e.jsxDEV(ge,{open:n,onOpenChange:m,children:e.jsxDEV(De,{className:"sm:max-w-md rounded-2xl bg-neutral-900 border-neutral-800",children:[e.jsxDEV(ts,{className:"space-y-2",children:[e.jsxDEV(os,{className:"text-xl font-bold text-white",children:D==="profile"?"Minha Conta":"Acessar Meus Benefícios"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:704,columnNumber:11},this),e.jsxDEV(rs,{className:"text-sm text-neutral-400",children:[D==="phone"&&"Entre com seu telefone para ver seus pontos e benefícios",D==="otp"&&"Confirme seu acesso com o código enviado",D==="profile"&&"Seus pontos e benefícios de fidelidade"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:707,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:703,columnNumber:9},this),D==="phone"&&O(),D==="otp"&&H(),D==="profile"&&y()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:702,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerLoginDialog.tsx",lineNumber:701,columnNumber:5},this)}var B="Accordion",Rs=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ve,qs,_s]=Vs(B),[ie,Nt]=ys(B,[_s,Le]),we=Le(),Ae=P.forwardRef((n,m)=>{const{type:s,...c}=n,a=c,i=c;return k.jsx(ve.Provider,{scope:n.__scopeAccordion,children:s==="multiple"?k.jsx(Bs,{...i,ref:m}):k.jsx(zs,{...a,ref:m})})});Ae.displayName=B;var[Pe,Hs]=ie(B),[Te,Fs]=ie(B,{collapsible:!1}),zs=P.forwardRef((n,m)=>{const{value:s,defaultValue:c,onValueChange:a=()=>{},collapsible:i=!1,...t}=n,[u,w]=Ie({prop:s,defaultProp:c,onChange:a});return k.jsx(Pe,{scope:n.__scopeAccordion,value:u?[u]:[],onItemOpen:w,onItemClose:P.useCallback(()=>i&&w(""),[i,w]),children:k.jsx(Te,{scope:n.__scopeAccordion,collapsible:i,children:k.jsx($e,{...t,ref:m})})})}),Bs=P.forwardRef((n,m)=>{const{value:s,defaultValue:c,onValueChange:a=()=>{},...i}=n,[t=[],u]=Ie({prop:s,defaultProp:c,onChange:a}),w=P.useCallback(x=>u((D=[])=>[...D,x]),[u]),S=P.useCallback(x=>u((D=[])=>D.filter(A=>A!==x)),[u]);return k.jsx(Pe,{scope:n.__scopeAccordion,value:t,onItemOpen:w,onItemClose:S,children:k.jsx(Te,{scope:n.__scopeAccordion,collapsible:!0,children:k.jsx($e,{...i,ref:m})})})}),[Us,ae]=ie(B),$e=P.forwardRef((n,m)=>{const{__scopeAccordion:s,disabled:c,dir:a,orientation:i="vertical",...t}=n,u=P.useRef(null),w=Os(u,m),S=qs(s),D=Ls(a)==="ltr",A=Ss(n.onKeyDown,V=>{var C;if(!Rs.includes(V.key))return;const T=V.target,I=S().filter(b=>{var $;return!(($=b.ref.current)!=null&&$.disabled)}),j=I.findIndex(b=>b.ref.current===T),p=I.length;if(j===-1)return;V.preventDefault();let v=j;const q=0,o=p-1,l=()=>{v=j+1,v>o&&(v=q)},N=()=>{v=j-1,v<q&&(v=o)};switch(V.key){case"Home":v=q;break;case"End":v=o;break;case"ArrowRight":i==="horizontal"&&(D?l():N());break;case"ArrowDown":i==="vertical"&&l();break;case"ArrowLeft":i==="horizontal"&&(D?N():l());break;case"ArrowUp":i==="vertical"&&N();break}const f=v%p;(C=I[f].ref.current)==null||C.focus()});return k.jsx(Us,{scope:s,disabled:c,direction:a,orientation:i,children:k.jsx(ve.Slot,{scope:s,children:k.jsx(Me.div,{...t,"data-orientation":i,ref:w,onKeyDown:c?void 0:A})})})}),ne="AccordionItem",[Ks,ke]=ie(ne),Re=P.forwardRef((n,m)=>{const{__scopeAccordion:s,value:c,...a}=n,i=ae(ne,s),t=Hs(ne,s),u=we(s),w=Is(),S=c&&t.value.includes(c)||!1,x=i.disabled||n.disabled;return k.jsx(Ks,{scope:s,open:S,disabled:x,triggerId:w,children:k.jsx(xs,{"data-orientation":i.orientation,"data-state":Be(S),...u,...a,ref:m,disabled:x,open:S,onOpenChange:D=>{D?t.onItemOpen(c):t.onItemClose(c)}})})});Re.displayName=ne;var qe="AccordionHeader",_e=P.forwardRef((n,m)=>{const{__scopeAccordion:s,...c}=n,a=ae(B,s),i=ke(qe,s);return k.jsx(Me.h3,{"data-orientation":a.orientation,"data-state":Be(i.open),"data-disabled":i.disabled?"":void 0,...c,ref:m})});_e.displayName=qe;var be="AccordionTrigger",He=P.forwardRef((n,m)=>{const{__scopeAccordion:s,...c}=n,a=ae(B,s),i=ke(be,s),t=Fs(be,s),u=we(s);return k.jsx(ve.ItemSlot,{scope:s,children:k.jsx(bs,{"aria-disabled":i.open&&!t.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...u,...c,ref:m})})});He.displayName=be;var Fe="AccordionContent",ze=P.forwardRef((n,m)=>{const{__scopeAccordion:s,...c}=n,a=ae(B,s),i=ke(Fe,s),t=we(s);return k.jsx(fs,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...t,...c,ref:m,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});ze.displayName=Fe;function Be(n){return n?"open":"closed"}var Gs=Ae,Xs=Re,Qs=_e,Ue=He,Ke=ze;const Zs=Gs,Ge=M.forwardRef(({className:n,...m},s)=>e.jsxDEV(Xs,{ref:s,className:fe("border-b",n),...m},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:13,columnNumber:3},void 0));Ge.displayName="AccordionItem";const Xe=M.forwardRef(({className:n,children:m,...s},c)=>e.jsxDEV(Qs,{className:"flex",children:e.jsxDEV(Ue,{ref:c,className:fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...s,children:[m,e.jsxDEV(us,{className:"h-4 w-4 shrink-0 transition-transform duration-200"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:26,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:25,columnNumber:3},void 0));Xe.displayName=Ue.displayName;const Qe=M.forwardRef(({className:n,children:m,...s},c)=>e.jsxDEV(Ke,{ref:c,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsxDEV("div",{className:fe("pb-4 pt-0",n),children:m},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:50,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:45,columnNumber:3},void 0));Qe.displayName=Ke.displayName;function xt({open:n,onOpenChange:m,menuItem:s,onAddToCart:c}){const[a,i]=M.useState({}),[t,u]=M.useState(1),[w,S]=M.useState(!1),{data:x,isLoading:D}=he({queryKey:["/api/public/menu-items",s.id,"option-groups"],enabled:n});M.useEffect(()=>{n||(i({}),u(1))},[n]);const A=(o,l)=>{i(N=>({...N,[o]:[{optionId:l,quantity:1}]}))},V=(o,l,N)=>{i(f=>{const C=f[o]||[];return N?{...f,[o]:[...C,{optionId:l,quantity:1}]}:{...f,[o]:C.filter(b=>b.optionId!==l)}})},T=(o,l,N)=>{i(f=>{const C=f[o]||[];return{...f,[o]:C.map(b=>b.optionId===l?{...b,quantity:Math.max(1,b.quantity+N)}:b)}})},I=()=>{const o=parseFloat(s.price);let l=0;if(x)for(const N of x){const f=a[N.id]||[];for(const C of f){const b=N.options.find($=>$.id===C.optionId);b&&(l+=parseFloat(b.priceAdjustment)*C.quantity)}}return(o+l)*t},j=()=>{const o=[];if(!x)return{valid:!0,errors:o};for(const l of x){const f=(a[l.id]||[]).length;l.minSelections&&f<l.minSelections&&o.push(`${l.name}: selecione pelo menos ${l.minSelections} ${l.minSelections===1?"opção":"opções"}`),l.maxSelections&&f>l.maxSelections&&o.push(`${l.name}: selecione no máximo ${l.maxSelections} ${l.maxSelections===1?"opção":"opções"}`)}return{valid:o.length===0,errors:o}},p=()=>{if(!j().valid)return;const l=[];if(x)for(const N of x){const f=a[N.id]||[];for(const C of f){const b=N.options.find($=>$.id===C.optionId);b&&l.push({optionId:b.id,optionName:b.name,optionGroupName:N.name,priceAdjustment:b.priceAdjustment,quantity:C.quantity})}}c(s,l),m(!1)},v=j(),q=x&&x.length>0;return e.jsxDEV(ge,{open:n,onOpenChange:m,children:e.jsxDEV(De,{className:"max-w-md max-h-[80vh] p-0 gap-0 overflow-hidden bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 border-neutral-700",children:[e.jsxDEV("div",{className:"relative",children:e.jsxDEV("div",{className:"relative h-48 sm:h-56 bg-gradient-to-br from-neutral-900 via-neutral-800 to-black overflow-hidden group cursor-pointer",onClick:()=>s.imageUrl&&S(!w),children:[s.imageUrl?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(g.img,{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover",animate:{scale:w?1.5:1},transition:{duration:.3}},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:176,columnNumber:17},this),e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("div",{className:"absolute top-3 left-3 h-8 w-8 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV($s,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:188,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:187,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:175,columnNumber:15},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-neutral-800 to-neutral-900",children:e.jsxDEV(Ee,{className:"h-16 w-16 text-amber-500/30 stroke-[1.5]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:193,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:192,columnNumber:15},this),e.jsxDEV("button",{onClick:o=>{o.stopPropagation(),m(!1)},className:"absolute top-3 right-3 h-8 w-8 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white flex items-center justify-center text-gray-900 shadow-lg transition-colors z-10","data-testid":"button-close-dialog",children:e.jsxDEV(Oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:206,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:198,columnNumber:13},this),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxDEV(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxDEV("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1","data-testid":"text-options-dialog-title",children:s.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:216,columnNumber:17},this),s.description&&e.jsxDEV("p",{className:"text-sm text-white/90 line-clamp-2","data-testid":"text-options-dialog-description",children:s.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:220,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:211,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:210,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:172,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:170,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-col max-h-[calc(80vh-8rem)] sm:max-h-[calc(80vh-10rem)]",children:[e.jsxDEV(pe,{className:"flex-1 px-4 sm:px-6 py-4",children:D?e.jsxDEV("div",{className:"flex justify-center py-6",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-gray-900"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:234,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:233,columnNumber:15},this):q?e.jsxDEV(Zs,{type:"multiple",defaultValue:x.map(o=>o.id),className:"space-y-2",children:e.jsxDEV(as,{children:x.map((o,l)=>{var $;const N=a[o.id]||[],f=N.length,C=(o.minSelections??0)>0,b=o.type==="single";return e.jsxDEV(Ge,{value:o.id,className:"border border-neutral-700 rounded-lg overflow-hidden bg-neutral-800 shadow-sm",children:[e.jsxDEV(Xe,{className:"px-3 py-2 hover:bg-neutral-700/50 hover:no-underline",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-2 w-full",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-white","data-testid":`text-group-name-${o.id}`,children:o.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:270,columnNumber:31},this),C&&e.jsxDEV("span",{className:"text-red-500 text-xs",children:"*"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:274,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:269,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[f>0&&e.jsxDEV(z,{className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white text-[10px] px-1.5 py-0 shadow-sm",children:f},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:279,columnNumber:33},this),e.jsxDEV(z,{variant:"outline",className:"border-neutral-600 text-neutral-400 text-[10px] font-medium px-2 py-0.5",children:b?"Escolha 1":o.maxSelections?`Até ${o.maxSelections}`:"Múltipla"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:283,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:277,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:268,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:267,columnNumber:25},this),e.jsxDEV(Qe,{className:"px-3 pb-3 pt-1",children:e.jsxDEV("div",{className:"space-y-2",children:b?e.jsxDEV(ls,{value:(($=N[0])==null?void 0:$.optionId)||"",onValueChange:r=>A(o.id,r),children:e.jsxDEV("div",{className:"space-y-2",children:[...o.options].sort((r,E)=>(E.isRecommended||0)-(r.isRecommended||0)).map(r=>{var R,F;const E=r.isRecommended===1,O=((R=N[0])==null?void 0:R.optionId)===r.id,H=((F=N[0])==null?void 0:F.quantity)||1;return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(g.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`
                                            relative flex items-center gap-2 p-2.5 rounded-lg cursor-pointer transition-all duration-200
                                            ${O?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/30":E?"bg-gradient-to-br from-amber-900/30 to-orange-900/30 border border-amber-600/50 hover:border-amber-500 hover:shadow-md":"bg-neutral-800 border border-neutral-700 hover:border-amber-500/50 hover:shadow-md text-white"}
                                          `,children:[E&&!O&&e.jsxDEV(z,{className:"absolute -top-1.5 -right-1 bg-gradient-to-br from-amber-400 to-orange-500 text-white text-[9px] font-bold px-1.5 py-0 rounded-full border-0 flex items-center gap-0.5",children:[e.jsxDEV(X,{className:"h-2 w-2 fill-current"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:327,columnNumber:47},this),"Sugestão"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:326,columnNumber:45},this),e.jsxDEV(ms,{value:r.id,id:r.id,className:`h-4 w-4 ${O?"border-white text-white data-[state=checked]:bg-white data-[state=checked]:text-amber-600":"border-neutral-600 data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500"}`,"data-testid":`radio-option-${r.id}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:332,columnNumber:43},this),e.jsxDEV(re,{htmlFor:r.id,className:"flex-1 cursor-pointer",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-white",children:r.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:340,columnNumber:47},this),parseFloat(r.priceAdjustment)!==0&&e.jsxDEV("span",{className:`text-xs font-medium ${O?"text-white/90":"text-neutral-400"}`,children:[parseFloat(r.priceAdjustment)>0?"+":"",L(r.priceAdjustment)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:344,columnNumber:49},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:339,columnNumber:45},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:338,columnNumber:43},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:312,columnNumber:41},this),O&&e.jsxDEV(g.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 pl-6 pr-2",children:[e.jsxDEV("span",{className:"text-xs text-neutral-400",children:"Qtd:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:359,columnNumber:45},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{className:"h-6 w-6 rounded-full bg-amber-500/20 border border-amber-500/50 hover:bg-amber-500/30 text-amber-500 flex items-center justify-center transition-colors disabled:opacity-50 disabled:bg-neutral-800",onClick:y=>{y.preventDefault(),T(o.id,r.id,-1)},disabled:H<=1,"data-testid":`button-decrease-option-${r.id}`,children:e.jsxDEV(ue,{className:"h-2.5 w-2.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:370,columnNumber:49},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:361,columnNumber:47},this),e.jsxDEV("span",{className:"text-xs font-bold min-w-6 text-center text-amber-500","data-testid":`text-option-qty-${r.id}`,children:H},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:372,columnNumber:47},this),e.jsxDEV("button",{className:"h-6 w-6 rounded-full bg-amber-500/20 border border-amber-500/50 hover:bg-amber-500/30 text-amber-500 flex items-center justify-center transition-colors",onClick:y=>{y.preventDefault(),T(o.id,r.id,1)},"data-testid":`button-increase-option-${r.id}`,children:e.jsxDEV(de,{className:"h-2.5 w-2.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:383,columnNumber:49},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:375,columnNumber:47},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:360,columnNumber:45},this),parseFloat(r.priceAdjustment)!==0&&H>1&&e.jsxDEV("span",{className:"text-[10px] text-neutral-500 ml-auto",children:["= ",L(parseFloat(r.priceAdjustment)*H)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:387,columnNumber:47},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:353,columnNumber:43},this)]},r.id,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:311,columnNumber:39},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:302,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:298,columnNumber:29},this):e.jsxDEV("div",{className:"space-y-2",children:[...o.options].sort((r,E)=>(E.isRecommended||0)-(r.isRecommended||0)).map(r=>{var F;const E=N.some(y=>y.optionId===r.id),O=!o.maxSelections||f<o.maxSelections||E,H=r.isRecommended===1,R=((F=N.find(y=>y.optionId===r.id))==null?void 0:F.quantity)||1;return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(g.div,{whileHover:{scale:O?1.01:1},whileTap:{scale:O?.99:1},className:`
                                          relative flex items-center gap-2 p-2.5 rounded-lg transition-all duration-200
                                          ${E?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/30":H?"bg-gradient-to-br from-amber-900/30 to-orange-900/30 border border-amber-600/50 hover:border-amber-500 hover:shadow-md":"bg-neutral-800 border border-neutral-700 hover:border-amber-500/50 hover:shadow-md text-white"}
                                          ${O?"cursor-pointer":"opacity-50 cursor-not-allowed"}
                                        `,children:[H&&!E&&e.jsxDEV(z,{className:"absolute -top-1.5 -right-1 bg-gradient-to-br from-amber-400 to-orange-500 text-white text-[9px] font-bold px-1.5 py-0 rounded-full border-0 flex items-center gap-0.5",children:[e.jsxDEV(X,{className:"h-2 w-2 fill-current"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:426,columnNumber:45},this),"Sugestão"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:425,columnNumber:43},this),e.jsxDEV(ds,{id:r.id,checked:E,onCheckedChange:y=>V(o.id,r.id,y),disabled:!O,className:`h-4 w-4 ${E?"border-white data-[state=checked]:bg-white data-[state=checked]:text-amber-600":"border-neutral-600 data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500"}`,"data-testid":`checkbox-option-${r.id}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:431,columnNumber:41},this),e.jsxDEV(re,{htmlFor:r.id,className:`flex-1 ${O?"cursor-pointer":"cursor-not-allowed"}`,children:e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-white",children:r.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:441,columnNumber:45},this),parseFloat(r.priceAdjustment)!==0&&e.jsxDEV("span",{className:`text-xs font-medium ${E?"text-white/90":"text-neutral-400"}`,children:[parseFloat(r.priceAdjustment)>0?"+":"",L(r.priceAdjustment)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:445,columnNumber:47},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:440,columnNumber:43},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:439,columnNumber:41},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:410,columnNumber:39},this),E&&e.jsxDEV(g.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 pl-6 pr-2",children:[e.jsxDEV("span",{className:"text-xs text-neutral-400",children:"Qtd:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:460,columnNumber:43},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{className:"h-6 w-6 rounded-full bg-amber-500/20 border border-amber-500/50 hover:bg-amber-500/30 text-amber-500 flex items-center justify-center transition-colors disabled:opacity-50 disabled:bg-neutral-800",onClick:y=>{y.preventDefault(),T(o.id,r.id,-1)},disabled:R<=1,"data-testid":`button-decrease-option-${r.id}`,children:e.jsxDEV(ue,{className:"h-2.5 w-2.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:471,columnNumber:47},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:462,columnNumber:45},this),e.jsxDEV("span",{className:"text-xs font-bold min-w-6 text-center text-amber-500","data-testid":`text-option-qty-${r.id}`,children:R},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:473,columnNumber:45},this),e.jsxDEV("button",{className:"h-6 w-6 rounded-full bg-amber-500/20 border border-amber-500/50 hover:bg-amber-500/30 text-amber-500 flex items-center justify-center transition-colors",onClick:y=>{y.preventDefault(),T(o.id,r.id,1)},"data-testid":`button-increase-option-${r.id}`,children:e.jsxDEV(de,{className:"h-2.5 w-2.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:484,columnNumber:47},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:476,columnNumber:45},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:461,columnNumber:43},this),parseFloat(r.priceAdjustment)!==0&&R>1&&e.jsxDEV("span",{className:"text-[10px] text-neutral-500 ml-auto",children:["= ",L(parseFloat(r.priceAdjustment)*R)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:488,columnNumber:45},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:454,columnNumber:41},this)]},r.id,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:409,columnNumber:37},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:399,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:294,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:293,columnNumber:25},this)]},o.id,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:262,columnNumber:23},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:254,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:253,columnNumber:15},this):e.jsxDEV(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"py-4",children:e.jsxDEV("div",{className:"bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl p-4 text-center",children:[e.jsxDEV(Ee,{className:"h-8 w-8 text-amber-500/30 mx-auto mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:243,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-neutral-300 font-medium",children:"Este item não possui opções de personalização."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:244,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-neutral-500 mt-1",children:"Ajuste apenas a quantidade desejada"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:247,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:242,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:237,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:231,columnNumber:11},this),e.jsxDEV("div",{className:"border-t border-neutral-700 bg-neutral-900/95 backdrop-blur-sm px-4 sm:px-6 py-3 space-y-3",children:[!v.valid&&e.jsxDEV(g.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-300 text-red-700 text-xs p-3 rounded-lg shadow-sm",children:v.errors.map((o,l)=>e.jsxDEV("div",{className:"flex items-start gap-1",children:[e.jsxDEV("span",{className:"text-red-500 font-bold",children:"•"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:519,columnNumber:21},this),e.jsxDEV("span",{children:o},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:520,columnNumber:21},this)]},l,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:518,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:512,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-stretch gap-3",children:[e.jsxDEV(g.div,{className:"flex items-center bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl shadow-lg shadow-amber-500/30 overflow-hidden",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxDEV("button",{onClick:()=>u(Math.max(1,t-1)),"data-testid":"button-decrease-quantity",className:"h-14 w-12 flex items-center justify-center text-white hover:bg-black/10 transition-colors active:bg-black/20",children:e.jsxDEV(ue,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:539,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:534,columnNumber:17},this),e.jsxDEV("div",{className:"h-14 px-3 flex items-center justify-center bg-black/20 backdrop-blur-sm min-w-[3rem]",children:e.jsxDEV("span",{className:"text-2xl font-bold text-white","data-testid":"text-quantity",children:t},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:542,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:541,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>u(t+1),"data-testid":"button-increase-quantity",className:"h-14 w-12 flex items-center justify-center text-white hover:bg-black/10 transition-colors active:bg-black/20",children:e.jsxDEV(de,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:551,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:546,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:529,columnNumber:15},this),e.jsxDEV(_,{size:"default",className:"flex-1 h-14 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white rounded-2xl shadow-lg shadow-amber-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",onClick:p,disabled:!v.valid,"data-testid":"button-add-to-cart",children:e.jsxDEV("div",{className:"flex items-center justify-between w-full px-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(cs,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:565,columnNumber:21},this),e.jsxDEV("span",{className:"font-bold text-base",children:"Adicionar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:566,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:564,columnNumber:19},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-[10px] text-white/60 leading-tight",children:"Total"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:569,columnNumber:21},this),e.jsxDEV("div",{className:"text-base font-bold leading-tight","data-testid":"text-total-price",children:L(I())},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:570,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:568,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:563,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:556,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:527,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:510,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:230,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:168,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/CustomerMenuItemOptionsDialog.tsx",lineNumber:167,columnNumber:5},this)}function bt({open:n,onOpenChange:m,order:s,restaurantName:c,restaurantSlug:a}){const[i,t]=M.useState(!1);if(!s)return null;const u=s.orderNumber||s.id.substring(0,8).toUpperCase(),w=a?`${window.location.origin}/r/${a}/rastrear`:"",S=()=>{switch(s.orderType){case"delivery":return e.jsxDEV(Ps,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:33,columnNumber:16},this);case"takeout":return e.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:35,columnNumber:16},this);default:return e.jsxDEV(xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:37,columnNumber:16},this)}},x=()=>{switch(s.orderType){case"delivery":return"Delivery";case"takeout":return"Retirada";case"mesa":return"Mesa";default:return s.orderType}},D=()=>{switch(s.status){case"pendente":return"bg-amber-100 text-amber-700";case"confirmado":return"bg-blue-100 text-blue-700";case"em_preparo":case"preparo":return"bg-purple-100 text-purple-700";case"pronto":return"bg-green-100 text-green-700";case"servido":case"entregue":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-600"}},A=()=>{const p=s.status;switch(p){case"pendente":return"Aguardando Confirmação";case"confirmado":return"Confirmado";case"em_preparo":case"preparo":return"Em Preparo";case"pronto":return"Pronto";case"servido":case"entregue":return"Entregue";default:return p}},V=`
🍽️ *Pedido Confirmado - ${c}*

📋 *Número do Pedido:* ${u}
💰 *Total:* ${L(s.totalAmount)}
🛵 *Tipo:* ${x()}
${s.customerName?`👤 *Nome:* ${s.customerName}`:""}
${s.customerPhone?`📞 *Telefone:* ${s.customerPhone}`:""}
${s.deliveryAddress?`📍 *Endereço:* ${s.deliveryAddress}`:""}

${w?`🔍 *Rastrear pedido:*
${w}`:""}
  `.trim(),T=async()=>{try{await navigator.clipboard.writeText(u),t(!0),setTimeout(()=>t(!1),2e3)}catch(p){console.error("Erro ao copiar:",p)}},I=()=>{const p=encodeURIComponent(V);window.open(`https://wa.me/?text=${p}`,"_blank")},j=s.items;return e.jsxDEV(ge,{open:n,onOpenChange:m,children:e.jsxDEV(De,{className:"sm:max-w-md p-0 overflow-hidden bg-white rounded-2xl [&>button]:hidden",children:[e.jsxDEV("button",{type:"button",onClick:()=>m(!1),className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 transition-colors z-10","data-testid":"button-close-order-dialog",children:e.jsxDEV(Oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:127,columnNumber:9},this),e.jsxDEV("div",{className:"relative bg-gradient-to-br from-green-600 via-green-500 to-emerald-600 pt-8 pb-12 px-6",children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:e.jsxDEV("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:138,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:137,columnNumber:11},this),e.jsxDEV(g.div,{className:"relative flex flex-col items-center text-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,ease:"easeOut"},children:[e.jsxDEV(g.div,{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm border-2 border-white/30 flex items-center justify-center mb-3",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:e.jsxDEV(gs,{className:"h-8 w-8 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:149,columnNumber:13},this),e.jsxDEV("h2",{className:"text-xl font-bold text-white mb-1",children:"Pedido Confirmado!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:157,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-white/80",children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:136,columnNumber:9},this),e.jsxDEV("div",{className:"-mt-6 mx-4 relative",children:e.jsxDEV(g.div,{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Número do Pedido"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:175,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold font-mono text-gray-900",children:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:176,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:174,columnNumber:15},this),e.jsxDEV(_,{variant:"outline",size:"icon",onClick:T,className:"h-10 w-10 rounded-xl border-gray-200","data-testid":"button-copy-order-number",children:i?e.jsxDEV(As,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:186,columnNumber:19},this):e.jsxDEV(Ds,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:188,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:173,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(z,{className:`${D()} border-0 text-xs px-2 py-1 rounded-lg`,children:[e.jsxDEV(Es,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:195,columnNumber:17},this),A()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:194,columnNumber:15},this),e.jsxDEV(z,{className:"bg-gray-100 text-gray-700 border-0 text-xs px-2 py-1 rounded-lg",children:[S(),e.jsxDEV("span",{className:"ml-1",children:x()},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:200,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:198,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:166,columnNumber:9},this),e.jsxDEV("div",{className:"px-4 pt-4 pb-2 space-y-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:"Detalhes do Pedido"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:208,columnNumber:13},this),j&&j.length>0&&e.jsxDEV("div",{className:"bg-gray-50 rounded-xl p-3 space-y-2",children:[j.map((p,v)=>e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs font-medium text-gray-900 bg-gray-200 rounded-md px-1.5 py-0.5",children:[p.quantity,"x"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:216,columnNumber:25},this),e.jsxDEV("span",{className:"text-sm text-gray-700 truncate",children:p.name||p.menuItemName||"Item"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:219,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:215,columnNumber:23},this),p.selectedOptions&&p.selectedOptions.length>0&&e.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-0.5 pl-7",children:p.selectedOptions.map(q=>q.optionName).join(", ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:224,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:214,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900 whitespace-nowrap",children:L(parseFloat(p.price)*p.quantity)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:229,columnNumber:21},this)]},v,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:213,columnNumber:19},this)),e.jsxDEV(Ms,{className:"my-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:234,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-gray-900",children:"Total"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:236,columnNumber:19},this),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:L(s.totalAmount)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:211,columnNumber:15},this),!j||j.length===0&&e.jsxDEV("div",{className:"bg-gray-50 rounded-xl p-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-gray-900",children:"Total"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:245,columnNumber:19},this),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:L(s.totalAmount)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:246,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:244,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:243,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[s.customerName&&e.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxDEV(vs,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:254,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-600",children:"Cliente:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:255,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 font-medium",children:s.customerName},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:256,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:253,columnNumber:17},this),s.customerPhone&&e.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxDEV(Se,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:261,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-600",children:"Telefone:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:262,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 font-medium",children:s.customerPhone},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:263,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:260,columnNumber:17},this),s.deliveryAddress&&e.jsxDEV("div",{className:"flex items-start gap-2 text-sm",children:[e.jsxDEV(js,{className:"h-4 w-4 text-gray-400 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:268,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-600",children:"Endereço:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:269,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 font-medium flex-1",children:s.deliveryAddress},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:270,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:267,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:251,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:207,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:206,columnNumber:9},this),e.jsxDEV("div",{className:"px-4 pb-4 pt-2 space-y-2",children:[e.jsxDEV(_,{className:"w-full h-11 bg-[#25D366] hover:bg-[#20BD5A] text-white font-semibold rounded-xl shadow-md",onClick:I,"data-testid":"button-share-whatsapp",children:[e.jsxDEV(ws,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:283,columnNumber:13},this),"Compartilhar via WhatsApp"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:278,columnNumber:11},this),w&&e.jsxDEV(_,{variant:"outline",className:"w-full h-11 rounded-xl border-gray-200 text-gray-700 font-medium",onClick:()=>window.open(w,"_blank"),"data-testid":"button-track-order",children:[e.jsxDEV(ks,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:294,columnNumber:15},this),"Rastrear Pedido"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:288,columnNumber:13},this),e.jsxDEV(_,{variant:"ghost",className:"w-full h-10 text-gray-500 font-medium",onClick:()=>m(!1),"data-testid":"button-close-dialog",children:"Fechar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:299,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:277,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:126,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ShareOrderDialog.tsx",lineNumber:125,columnNumber:5},this)}export{Ps as B,dt as C,ht as H,bt as S,xt as a,pt as b};
